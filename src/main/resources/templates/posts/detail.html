<!-- src/main/resources/templates/posts/detail.html -->
<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>crudboard | Post Detail</title>
    <link rel="stylesheet" href="/css/posts.css">
</head>
<body>
<div class="container">
    <div class="card" id="card">
        <header>
            <div>
                <h1 id="title">-</h1>
                <div class="meta">
                    <span class="pill" id="idPill">ID -</span>
                    <span class="pill" id="createdAt">created -</span>
                    <span class="pill" id="updatedAt">updated -</span>
                    <!-- ✅ 로그인 상태 표시 -->
                    <span class="pill" id="authBadge">guest</span>
                </div>
                <div class="muted" style="margin-top:8px;">내용</div>
            </div>

            <div class="actions">
                <!-- ✅ 홈 화면 진입 -->
                <a class="btn" href="/">홈</a>

                <!-- 기존 네비 -->
                <a class="btn" href="/posts">목록</a>

                <!-- ✅ 비로그인일 때 홈으로 보내서 로그인/회원가입 유도 -->
                <a class="btn" id="loginBtn" href="/" style="display:none;">로그인</a>

                <a class="btn primary" id="editLink" href="#">수정</a>
                <button class="danger" id="deleteBtn">삭제</button>
            </div>
        </header>

        <div class="error" id="errorBox"></div>

        <pre id="content">-</pre>

        <!-- ✅ 댓글 UI (기존 방식 유지) -->
        <div style="margin-top:16px;">
            <div class="row" style="align-items:flex-end;">
                <div style="flex:1;">
                    <label for="commentInput">댓글 작성</label>
                    <textarea id="commentInput" placeholder="댓글을 입력하세요 (Ctrl+Enter로 등록)"></textarea>
                </div>
                <div style="display:flex; flex-direction:column; gap:8px; min-width:180px;">
                    <button class="primary" id="commentCreateBtn">댓글 등록</button>

                    <div class="muted">댓글 페이지 크기</div>
                    <select id="commentSize">
                        <option value="5">5개</option>
                        <option value="10" selected>10개</option>
                        <option value="20">20개</option>
                    </select>
                </div>
            </div>

            <div class="row" style="margin-top:12px;">
                <div class="muted">
                    <span class="pill" id="commentSummary">-</span>
                    <span class="pill" id="commentPageInfo">page - / -</span>
                </div>
                <div class="pager">
                    <button id="commentPrevBtn">이전</button>
                    <button id="commentNextBtn">다음</button>
                </div>
            </div>

            <div id="commentList" style="margin-top:12px;"></div>
        </div>
    </div>
</div>
<script type="module" src="/js/pages/post-detail.page.js"></script>
</body>
</html>